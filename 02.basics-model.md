2.基础模块

### 核心模块

1. **express**: 主要框架，提供基础的路由和中间件功能。
   ```sh
   npm install express
   ```

2. **path**: Node.js内置模块，用于处理和转换文件路径。
   ```javascript
   const path = require('path');
   ```

### 中间件

1. **body-parser**: 用于解析请求体，已被Express 4.16.0及以上版本的内置解析功能所替代。
   ```sh
   npm install body-parser
   ```
   ```javascript
   const bodyParser = require('body-parser');
   app.use(bodyParser.json());
   app.use(bodyParser.urlencoded({ extended: false }));
   ```

2. **cookie-parser**: 用于解析Cookie。
   ```sh
   npm install cookie-parser
   ```
   ```javascript
   const cookieParser = require('cookie-parser');
   app.use(cookieParser());
   ```

3. **morgan**: HTTP请求日志中间件。
   ```sh
   npm install morgan
   ```
   ```javascript
   const morgan = require('morgan');
   app.use(morgan('dev'));
   ```

4. **cors**: 用于启用跨域资源共享（CORS）。
   ```sh
   npm install cors
   ```
   ```javascript
   const cors = require('cors');
   app.use(cors());
   ```

### 数据库

1. **sequelize**: 用于与关系型数据库（如MySQL, PostgreSQL, SQLite）交互的ORM。
   ```sh
   npm install sequelize
   npm install mysql2  # 或者其他数据库驱动
   ```
   ```javascript
   const { Sequelize } = require('sequelize');
   const sequelize = new Sequelize('database', 'username', 'password', {
     host: 'localhost',
     dialect: 'mysql'
   });
   ```

### 身份验证和授权

1. **passport**: 强大的身份验证中间件。
   ```sh
   npm install passport passport-local
   ```
   ```javascript
   const passport = require('passport');
   const LocalStrategy = require('passport-local').Strategy;
   app.use(passport.initialize());
   app.use(passport.session());
   ```

2. **jsonwebtoken**: 用于生成和验证JSON Web Tokens（JWT）。
   ```sh
   npm install jsonwebtoken
   ```
   ```javascript
   const jwt = require('jsonwebtoken');
   const token = jwt.sign({ id: user._id }, 'secret', { expiresIn: '1h' });
   ```

### 实用工具

1. **dotenv**: 用于加载环境变量。
   ```sh
   npm install dotenv
   ```
   ```javascript
   require('dotenv').config();
   ```

2. **bcrypt**: 用于加密和解密密码。
   ```sh
   npm install bcrypt
   ```
   ```javascript
   const bcrypt = require('bcrypt');
   const saltRounds = 10;
   bcrypt.hash('myPassword', saltRounds, function(err, hash) {
     // Store hash in your password DB.
   });
   ```

3. **multer**: 用于处理multipart/form-data，即文件上传。
   ```sh
   npm install multer
   ```
   ```javascript
   const multer = require('multer');
   const upload = multer({ dest: 'uploads/' });
   app.post('/upload', upload.single('file'), function (req, res, next) {
     res.send('File uploaded successfully');
   });
   ```

### 示例代码

以下是一个使用上述一些模块的简单Express应用示例：

```javascript
const express = require('express');
const path = require('path');
const cookieParser = require('cookie-parser');
const logger = require('morgan');
const mongoose = require('mongoose');
const passport = require('passport');
const LocalStrategy = require('passport-local').Strategy;
const jwt = require('jsonwebtoken');
require('dotenv').config();

const app = express();

// Connect to MongoDB
mongoose.connect('mongodb://localhost/mydatabase', { useNewUrlParser: true, useUnifiedTopology: true });

// Middleware setup
app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

// Passport configuration
passport.use(new LocalStrategy(
  function(username, password, done) {
    // User authentication logic here
  }
));
app.use(passport.initialize());
app.use(passport.session());

// Routes
app.get('/', (req, res) => {
  res.send('Hello World!');
});

app.listen(3000, () => {
  console.log('Server is running on http://localhost:3000');
});
```

这个示例展示了如何设置Express应用并集成常用的中间件和模块。你可以根据需要扩展和定制这些模块以适应你的项目需求。